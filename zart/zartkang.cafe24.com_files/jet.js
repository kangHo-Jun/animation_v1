var EC_JET=function(e){"use strict";var n,t,r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var o,a=i(function(){if(t)return n;t=1;var e="object"==typeof r&&r&&r.Object===Object&&r,i="object"==typeof self&&self&&self.Object===Object&&self,o=e||i||Function("return this")();return n=function(){return o.Date.now()}}()),c={exports:{}};var u,s=(o||(o=1,u=c,function(e,n){if(e){var t={},r=e.TraceKit,i=[].slice,o="?",a=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;t.noConflict=function(){return e.TraceKit=r,t},t.wrap=function(e){return function(){try{return e.apply(this,arguments)}catch(e){throw t.report(e),e}}},t.report=function(){var n,r,i,o,u=[],s=null,l=null;function f(e,n,r){var i=null;if(!n||t.collectWindowErrors){for(var o in u)if(c(u,o))try{u[o](e,n,r)}catch(e){i=e}if(i)throw i}}function d(e,r,i,o,c){if(l)t.computeStackTrace.augmentStackTraceWithInitialElement(l,r,i,e),m();else if(c)f(t.computeStackTrace(c),!0,c);else{var u,s={url:r,line:i,column:o},d=e;if("[object String]"==={}.toString.call(e)){var p=e.match(a);p&&(u=p[1],d=p[2])}s.func=t.computeStackTrace.guessFunctionName(s.url,s.line),s.context=t.computeStackTrace.gatherContext(s.url,s.line),f({name:u,message:d,mode:"onerror",stack:[s]},!0,null)}return!!n&&n.apply(this,arguments)}function p(e){f(t.computeStackTrace(e.reason),!0,e.reason)}function m(){var e=l,n=s;l=null,s=null,f(e,!1,n)}function g(e){if(l){if(s===e)return;m()}var n=t.computeStackTrace(e);throw l=n,s=e,setTimeout((function(){s===e&&m()}),n.incomplete?2e3:0),e}return g.subscribe=function(t){!0!==r&&(n=e.onerror,e.onerror=d,r=!0),!0!==o&&(i=e.onunhandledrejection,e.onunhandledrejection=p,o=!0),u.push(t)},g.unsubscribe=function(t){for(var a=u.length-1;a>=0;--a)u[a]===t&&u.splice(a,1);0===u.length&&(r&&(e.onerror=n,r=!1),o&&(e.onunhandledrejection=i,o=!1))},g}(),t.computeStackTrace=function(){var n={};function r(r){if("string"!=typeof r)return[];if(!c(n,r)){var i="",o="";try{o=e.document.domain}catch(e){}var a=/(.*)\:\/\/([^:\/]+)([:\d]*)\/{0,1}([\s\S]*)/.exec(r);a&&a[2]===o&&(i=function(n){if(!t.remoteFetching)return"";try{var r=function(){try{return new e.XMLHttpRequest}catch(n){return new e.ActiveXObject("Microsoft.XMLHTTP")}}();return r.open("GET",n,!1),r.send(""),r.responseText}catch(e){return""}}(r)),n[r]=i?i.split("\n"):[]}return n[r]}function i(e,n){var t,i=/function ([^(]*)\(([^)]*)\)/,a=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,c="",u=r(e);if(!u.length)return o;for(var l=0;l<10;++l)if(!s(c=u[n-l]+c)){if(t=a.exec(c))return t[1];if(t=i.exec(c))return t[1]}return o}function a(e,n){var i=r(e);if(!i.length)return null;var o=[],a=Math.floor(t.linesOfContext/2),c=a+t.linesOfContext%2,u=Math.max(0,n-a-1),l=Math.min(i.length,n+c-1);n-=1;for(var f=u;f<l;++f)s(i[f])||o.push(i[f]);return o.length>0?o:null}function u(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function l(e){return u(e).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function f(e,n){for(var t,i,o=0,a=n.length;o<a;++o)if((t=r(n[o])).length&&(t=t.join("\n"),i=e.exec(t)))return{url:n[o],line:t.substring(0,i.index).split("\n").length,column:i.index-t.lastIndexOf("\n",i.index)-1};return null}function d(e,n,t){var i,o=r(n),a=new RegExp("\\b"+u(e)+"\\b");return t-=1,o&&o.length>t&&(i=a.exec(o[t]))?i.index:null}function p(n){if(!s(e&&e.document)){for(var t,r,i,o,a=[e.location.href],c=e.document.getElementsByTagName("script"),d=""+n,p=0;p<c.length;++p){var m=c[p];m.src&&a.push(m.src)}if(i=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/.exec(d)){var g=i[1]?"\\s+"+i[1]:"",h=i[2].split(",").join("\\s*,\\s*");t=u(i[3]).replace(/;$/,";?"),r=new RegExp("function"+g+"\\s*\\(\\s*"+h+"\\s*\\)\\s*{\\s*"+t+"\\s*}")}else r=new RegExp(u(d).replace(/\s+/g,"\\s+"));if(o=f(r,a))return o;if(i=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/.exec(d)){var v=i[1];if(t=l(i[2]),o=f(r=new RegExp("on"+v+"=[\\'\"]\\s*"+t+"\\s*[\\'\"]","i"),a[0]))return o;if(o=f(r=new RegExp(t),a))return o}return null}}function m(e){if(!e.stack)return null;for(var n,t,r,c=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,u=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,l=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,f=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,p=/\((\S*)(?::(\d+))(?::(\d+))\)/,m=e.stack.split("\n"),g=[],h=/^(.*) is undefined$/.exec(e.message),v=0,y=m.length;v<y;++v){if(t=c.exec(m[v])){var S=t[2]&&0===t[2].indexOf("native");t[2]&&0===t[2].indexOf("eval")&&(n=p.exec(t[2]))&&(t[2]=n[1],t[3]=n[2],t[4]=n[3]),r={url:S?null:t[2],func:t[1]||o,args:S?[t[2]]:[],line:t[3]?+t[3]:null,column:t[4]?+t[4]:null}}else if(t=l.exec(m[v]))r={url:t[2],func:t[1]||o,args:[],line:+t[3],column:t[4]?+t[4]:null};else{if(!(t=u.exec(m[v])))continue;t[3]&&t[3].indexOf(" > eval")>-1&&(n=f.exec(t[3]))?(t[3]=n[1],t[4]=n[2],t[5]=null):0!==v||t[5]||s(e.columnNumber)||(g[0].column=e.columnNumber+1),r={url:t[3],func:t[1]||o,args:t[2]?t[2].split(","):[],line:t[4]?+t[4]:null,column:t[5]?+t[5]:null}}!r.func&&r.line&&(r.func=i(r.url,r.line)),r.context=r.line?a(r.url,r.line):null,g.push(r)}return g.length?(g[0]&&g[0].line&&!g[0].column&&h&&(g[0].column=d(h[1],g[0].url,g[0].line)),{mode:"stack",name:e.name,message:e.message,stack:g}):null}function g(e,n,t,r){var o={url:n,line:t};if(o.url&&o.line){e.incomplete=!1,o.func||(o.func=i(o.url,o.line)),o.context||(o.context=a(o.url,o.line));var c=/ '([^']+)' /.exec(r);if(c&&(o.column=d(c[1],o.url,o.line)),e.stack.length>0&&e.stack[0].url===o.url){if(e.stack[0].line===o.line)return!1;if(!e.stack[0].line&&e.stack[0].func===o.func)return e.stack[0].line=o.line,e.stack[0].context=o.context,!1}return e.stack.unshift(o),e.partial=!0,!0}return e.incomplete=!0,!1}function h(e,n){for(var r,a,c,u=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,s=[],l={},f=!1,m=h.caller;m&&!f;m=m.caller)if(m!==v&&m!==t.report){if(a={url:null,func:o,args:[],line:null,column:null},m.name?a.func=m.name:(r=u.exec(m.toString()))&&(a.func=r[1]),void 0===a.func)try{a.func=r.input.substring(0,r.input.indexOf("{"))}catch(e){}if(c=p(m)){a.url=c.url,a.line=c.line,a.func===o&&(a.func=i(a.url,a.line));var y=/ '([^']+)' /.exec(e.message||e.description);y&&(a.column=d(y[1],c.url,c.line))}l[""+m]?f=!0:l[""+m]=!0,s.push(a)}n&&s.splice(0,n);var S={mode:"callers",name:e.name,message:e.message,stack:s};return g(S,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),S}function v(n,t){var o=null;t=null==t?0:+t;try{if(o=function(e){var n=e.stacktrace;if(n){for(var t,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,o=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,c=n.split("\n"),u=[],s=0;s<c.length;s+=2){var l=null;if((t=r.exec(c[s]))?l={url:t[2],line:+t[1],column:null,func:t[3],args:[]}:(t=o.exec(c[s]))&&(l={url:t[6],line:+t[1],column:+t[2],func:t[3]||t[4],args:t[5]?t[5].split(","):[]}),l){if(!l.func&&l.line&&(l.func=i(l.url,l.line)),l.line)try{l.context=a(l.url,l.line)}catch(e){}l.context||(l.context=[c[s+1]]),u.push(l)}}return u.length?{mode:"stacktrace",name:e.name,message:e.message,stack:u}:null}}(n),o)return o}catch(e){}try{if(o=m(n))return o}catch(e){}try{if(o=function(n){var t=n.message.split("\n");if(t.length<4)return null;var o,u=/^\s*Line (\d+) of linked script ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,s=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,d=/^\s*Line (\d+) of function script\s*$/i,p=[],m=e&&e.document&&e.document.getElementsByTagName("script"),g=[];for(var h in m)c(m,h)&&!m[h].src&&g.push(m[h]);for(var v=2;v<t.length;v+=2){var y=null;if(o=u.exec(t[v]))y={url:o[2],func:o[3],args:[],line:+o[1],column:null};else if(o=s.exec(t[v])){y={url:o[3],func:o[4],args:[],line:+o[1],column:null};var S=+o[1],w=g[o[2]-1];if(w){var b=r(y.url);if(b){var E=(b=b.join("\n")).indexOf(w.innerText);E>=0&&(y.line=S+b.substring(0,E).split("\n").length)}}}else if(o=d.exec(t[v])){var x=e.location.href.replace(/#.*$/,""),T=f(new RegExp(l(t[v+1])),[x]);y={url:x,func:"",args:[],line:T?T.line:o[1],column:null}}if(y){y.func||(y.func=i(y.url,y.line));var k=a(y.url,y.line),C=k?k[Math.floor(k.length/2)]:null;k&&C.replace(/^\s*/,"")===t[v+1].replace(/^\s*/,"")?y.context=k:y.context=[t[v+1]],p.push(y)}}return p.length?{mode:"multiline",name:n.name,message:t[0],stack:p}:null}(n),o)return o}catch(e){}try{if(o=h(n,t+1))return o}catch(e){}return{name:n.name,message:n.message,mode:"failed"}}return v.augmentStackTraceWithInitialElement=g,v.computeStackTraceFromStackProp=m,v.guessFunctionName=i,v.gatherContext=a,v.ofCaller=function(e){e=1+(null==e?0:+e);try{throw new Error}catch(n){return v(n,e+1)}},v.getSource=r,v}(),t.extendToAsynchronousCallbacks=function(){var n=function(n){var r=e[n];e[n]=function(){var e=i.call(arguments),n=e[0];return"function"==typeof n&&(e[0]=t.wrap(n)),r.apply?r.apply(this,e):r(e[0],e[1])}};n("setTimeout"),n("setInterval")},t.remoteFetching||(t.remoteFetching=!0),t.collectWindowErrors||(t.collectWindowErrors=!0),(!t.linesOfContext||t.linesOfContext<1)&&(t.linesOfContext=11),u.exports&&e.module!==u?u.exports=t:e.TraceKit=t}function c(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function s(e){return void 0===e}}("undefined"!=typeof window?window:r)),c.exports),l=i(s);const f=e=>{let n=0;if(0===e.length)return n;for(let t=0;t<e.length;t+=1){n=(n<<5)-n+e.charCodeAt(t)}return Math.abs(n)},d=e=>{const n=e.map((e=>"string"==typeof e?e.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"):e&&e.source?e.source:void 0));return new RegExp(n.join("|"),"i")},p=()=>window.navigator.languages?window.navigator.languages[0]:window.navigator.userLanguage||window.navigator.language,m=()=>({jquery_version:window.$&&window.$.fn?window.$.fn.jquery:"",is_edibot_product:document.querySelectorAll(".edibot-product-detail").length>0}),g=(e,n)=>{navigator.sendBeacon?navigator.sendBeacon(e,n):fetch(e,{body:n,method:"POST",keepalive:!0})},h=(e,n,t)=>{const r={token:t};return`${e}${n}?${Object.entries(r).map((([e,n])=>`${e}=${n}`)).join("&")}`},v=e=>{const{samplingEnabled:n,samplingRate:t}=e;return"F"===new URLSearchParams(window.location.search).get("sampling_enabled")||(!n||Math.random()<=t)};let y={},S=null,w=null,b={},E=!1,x=!1,T=null,k=null;const C=(()=>{const e=[];return{get length(){return e.length},enqueue(n){e.push(n)},dequeue:()=>e.shift()}})(),L=l.noConflict();L.remoteFetching=!1;const M={path:"/api/v1/store",collectWindowErrors:!0,preventDuplicateReports:!0,storageKeyPrefix:"EC_JET.MAIN",ignoreUrls:[/^chrome-extension/,/^moz-extension/,/^ms-browser-extension/],ignoreErrors:[],samplingEnabled:!1,samplingRate:.5},$=e=>{const n=JSON.stringify(e),t=(r=n,`${y.storageKeyPrefix}.${f(r)}`);var r;return sessionStorage.getItem(t)?.trim()===n.trim()||(sessionStorage.setItem(t,n),!1)},O=(e,n)=>!(n&&!v(y))&&(!(e=>{if(!e)return!1;if("message"in e&&k&&k.test(e.message))return!0;if("stack"in e&&e.stack.length>0){const n=e.stack[0];if("url"in n&&T&&T.test(n.url))return!0}return!1})(e)&&((!n||!(e=>0!==Object.keys(b).length&&("error"in b&&"time"in b&&(500>a()-b.time&&b.error.message===e.message)))(e))&&!(n&&y.preventDuplicateReports&&$(e)))),I=(e,n,t,r)=>{if(!O(e,n))return;(e=>{b={error:e,time:a()}})(e);const i={url:decodeURIComponent(window.location.href),report:e,is_window_error:n,device:{locale:p(),datetime:(new Date).toISOString(),user_agent:window.navigator.userAgent,screen_width:window.screen.width,screen_height:window.screen.height},runtime:a()-w,extra_data:m(),referer:document.referrer,is_login:!!document.cookie.match(/(?:^| |;)iscache=F/),label:r},o=S,c=JSON.stringify(i);"complete"!==document.readyState?C.enqueue({url:o,body:c}):g(o,c)},R=()=>{"complete"===document.readyState&&C.length&&("requestIdleCallback"in window?requestIdleCallback((()=>{for(;C.length;){const{url:e,body:n}=C.dequeue();g(e,n)}})):setTimeout((()=>{for(;C.length;){const{url:e,body:n}=C.dequeue();g(e,n)}}),1))},j=(e,n,t)=>{E||(w=a(),(e=>{y={...M,...e},y.length&&(k=d(y.ignoreErrors)),y.length&&(T=d(y.ignoreUrls)),L.collectWindowErrors=!!y.collectWindowErrors})(t),((e,n)=>{S=h(e,y.path,n)})(e,n),x||(document.addEventListener("readystatechange",R),L.report.subscribe(I),x=!0),E=!0)};let A=null,F={};const _={path:"/api/v1/resources/batch",storageKeyPrefix:"EC_JET.RESOURCES",durationThreshold:3e3,samplingEnabled:!1,samplingRate:.3,batchSize:30,excludeInitiatorTypes:["beacon"]},P=new Set,z=e=>({name:e.name,duration:Math.round(e.duration),startTime:Math.round(e.startTime),initiatorType:e.initiatorType,fetchStart:Math.round(e.fetchStart),responseEnd:Math.round(e.responseEnd),transferSize:e.transferSize||0,encodedBodySize:e.encodedBodySize||0,decodedBodySize:e.decodedBodySize||0,nextHopProtocol:e.nextHopProtocol,redirectStart:Math.round(e.redirectStart),redirectEnd:Math.round(e.redirectEnd),renderBlockingStatus:e.renderBlockingStatus||null,connectStart:Math.round(e.connectStart),connectEnd:Math.round(e.connectEnd),domainLookupStart:Math.round(e.domainLookupStart),domainLookupEnd:Math.round(e.domainLookupEnd),secureConnectionStart:Math.round(e.secureConnectionStart),requestStart:Math.round(e.requestStart),responseStart:Math.round(e.responseStart),workerStart:Math.round(e.workerStart),responseStatus:e.responseStatus||0}),B=e=>{const n=e.split("?")[0],t=(r=n,`${F.storageKeyPrefix}.${f(r)}`);var r;return sessionStorage.getItem(t)===n||(sessionStorage.setItem(t,n),!1)},q=()=>{if(0===P.size)return;const e=Array.from(P);for(let n=0;n<e.length;n+=F.batchSize){const t={resources:e.slice(n,n+F.batchSize)},r=JSON.stringify(t);g(A,r)}P.clear()},N=e=>{e.getEntries().forEach((e=>{if(F.excludeInitiatorTypes.includes(e.initiatorType))return;const n=e.duration>=F.durationThreshold,t=e.responseStatus>=400,r=n||t;if(i=e.name,/\.(png|jpe?g|gif|svg|webp)(\?.*)?$/i.test(i)&&!t){if((e.transferSize||e.encodedBodySize||e.decodedBodySize||0)<1048576)return}var i;if(!r)return;if(B(e.name))return;const o={url:decodeURIComponent(window.location.href),report:z(e)};P.add(o)}))},D=()=>{"complete"===document.readyState&&q()},U=(e,n,t)=>{try{if((e=>{F={..._,...e,path:"/api/v1/resources/batch",samplingRate:.3}})(t),!v(F))return;((e,n)=>{A=h(e,F.path,n)})(e,n);new PerformanceObserver(N).observe({type:"resource",buffered:!0}),document.addEventListener("readystatechange",D),document.addEventListener("visibilitychange",(()=>{"hidden"===document.visibilityState&&q()}))}catch(e){console.error(e)}};var H,J,W,K,X,Z=-1,G=function(e){addEventListener("pageshow",(function(n){n.persisted&&(Z=n.timeStamp,e(n))}),!0)},Q=function(){var e=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},V=function(){var e=Q();return e&&e.activationStart||0},Y=function(e,n){var t=Q(),r="navigate";return Z>=0?r="back-forward-cache":t&&(document.prerendering||V()>0?r="prerender":document.wasDiscarded?r="restore":t.type&&(r=t.type.replace(/_/g,"-"))),{name:e,value:void 0===n?-1:n,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},ee=function(e,n,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver((function(e){Promise.resolve().then((function(){n(e.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},t||{})),r}}catch(e){}},ne=function(e,n,t,r){var i,o;return function(a){n.value>=0&&(a||r)&&((o=n.value-(i||0))||void 0===i)&&(i=n.value,n.delta=o,n.rating=function(e,n){return e>n[1]?"poor":e>n[0]?"needs-improvement":"good"}(n.value,t),e(n))}},te=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},re=function(e){document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&e()}))},ie=function(e){var n=!1;return function(){n||(e(),n=!0)}},oe=-1,ae=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},ce=function(e){"hidden"===document.visibilityState&&oe>-1&&(oe="visibilitychange"===e.type?e.timeStamp:0,se())},ue=function(){addEventListener("visibilitychange",ce,!0),addEventListener("prerenderingchange",ce,!0)},se=function(){removeEventListener("visibilitychange",ce,!0),removeEventListener("prerenderingchange",ce,!0)},le=function(){return oe<0&&(oe=ae(),ue(),G((function(){setTimeout((function(){oe=ae(),ue()}),0)}))),{get firstHiddenTime(){return oe}}},fe=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},de=[1800,3e3],pe=function(e,n){n=n||{},fe((function(){var t,r=le(),i=Y("FCP"),o=ee("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(o.disconnect(),e.startTime<r.firstHiddenTime&&(i.value=Math.max(e.startTime-V(),0),i.entries.push(e),t(!0)))}))}));o&&(t=ne(e,i,de,n.reportAllChanges),G((function(r){i=Y("FCP"),t=ne(e,i,de,n.reportAllChanges),te((function(){i.value=performance.now()-r.timeStamp,t(!0)}))})))}))},me=[.1,.25],ge=0,he=1/0,ve=0,ye=function(e){e.forEach((function(e){e.interactionId&&(he=Math.min(he,e.interactionId),ve=Math.max(ve,e.interactionId),ge=ve?(ve-he)/7+1:0)}))},Se=function(){return H?ge:performance.interactionCount||0},we=function(){"interactionCount"in performance||H||(H=ee("event",ye,{type:"event",buffered:!0,durationThreshold:0}))},be=[],Ee=new Map,xe=0,Te=[],ke=function(e){if(Te.forEach((function(n){return n(e)})),e.interactionId||"first-input"===e.entryType){var n=be[be.length-1],t=Ee.get(e.interactionId);if(t||be.length<10||e.duration>n.latency){if(t)e.duration>t.latency?(t.entries=[e],t.latency=e.duration):e.duration===t.latency&&e.startTime===t.entries[0].startTime&&t.entries.push(e);else{var r={id:e.interactionId,latency:e.duration,entries:[e]};Ee.set(r.id,r),be.push(r)}be.sort((function(e,n){return n.latency-e.latency})),be.length>10&&be.splice(10).forEach((function(e){return Ee.delete(e.id)}))}}},Ce=function(e){var n=self.requestIdleCallback||self.setTimeout,t=-1;return e=ie(e),"hidden"===document.visibilityState?e():(t=n(e),re(e)),t},Le=[200,500],Me=function(e,n){"PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&(n=n||{},fe((function(){var t;we();var r,i=Y("INP"),o=function(e){Ce((function(){e.forEach(ke);var n=function(){var e=Math.min(be.length-1,Math.floor((Se()-xe)/50));return be[e]}();n&&n.latency!==i.value&&(i.value=n.latency,i.entries=n.entries,r())}))},a=ee("event",o,{durationThreshold:null!==(t=n.durationThreshold)&&void 0!==t?t:40});r=ne(e,i,Le,n.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),re((function(){o(a.takeRecords()),r(!0)})),G((function(){xe=Se(),be.length=0,Ee.clear(),i=Y("INP"),r=ne(e,i,Le,n.reportAllChanges)})))})))},$e=[2500,4e3],Oe={},Ie=[800,1800],Re=function e(n){document.prerendering?fe((function(){return e(n)})):"complete"!==document.readyState?addEventListener("load",(function(){return e(n)}),!0):setTimeout(n,0)},je=function(e,n){n=n||{};var t=Y("TTFB"),r=ne(e,t,Ie,n.reportAllChanges);Re((function(){var i=Q();i&&(t.value=Math.max(i.responseStart-V(),0),t.entries=[i],r(!0),G((function(){t=Y("TTFB",0),(r=ne(e,t,Ie,n.reportAllChanges))(!0)})))}))},Ae={passive:!0,capture:!0},Fe=new Date,_e=function(e,n){J||(J=n,W=e,K=new Date,Be(removeEventListener),Pe())},Pe=function(){if(W>=0&&W<K-Fe){var e={entryType:"first-input",name:J.type,target:J.target,cancelable:J.cancelable,startTime:J.timeStamp,processingStart:J.timeStamp+W};X.forEach((function(n){n(e)})),X=[]}},ze=function(e){if(e.cancelable){var n=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,n){var t=function(){_e(e,n),i()},r=function(){i()},i=function(){removeEventListener("pointerup",t,Ae),removeEventListener("pointercancel",r,Ae)};addEventListener("pointerup",t,Ae),addEventListener("pointercancel",r,Ae)}(n,e):_e(n,e)}},Be=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(n){return e(n,ze,Ae)}))},qe=[100,300];let Ne=null,De=null,Ue={},He=!1,Je=!1,We=0,Ke=!1;const Xe=new Set,Ze={path:"/api/v1/vitals",samplingEnabled:!0,samplingRate:.1},Ge=()=>{if(void 0===performance)return!1;const e=performance.getEntriesByType("navigation"),n=e[e.length-1],{domContentLoadedEventStart:t,loadEventStart:r,loadEventEnd:i,responseStart:o,requestStart:a}=n,c=o-a,u=performance.getEntriesByType("resource"),s=u.length;return{contentLoadedStart:t,loadStart:r,loadEnd:i,encodedBodySize:u.reduce(((e,n)=>e+n.encodedBodySize),0),resourceCount:s,serverResponseTime:c}},Qe=e=>e.reduce(((e,n)=>{const{name:t,id:r,rating:i,value:o,navigationType:a}=n;return e[t]||(e[t]=[]),e[t]={id:r,rating:i,value:o,navigationType:a},e}),{}),Ve=()=>{if(Xe.size>0){const e={device:{locale:p()},user_interacted:He,page_hide_executed:Je,page_hide_duration:We,extra_data:m(),referer:document.referrer,url:decodeURIComponent(window.location.href),report:{load:Ge(),render:Qe([...Xe])}};Xe.clear();const n=JSON.stringify(e);g(Ne,n)}},Ye=e=>{Xe.add(e)},en=(e,n,t)=>{try{if(De=a(),(e=>{Ue={...Ze,...e,samplingEnabled:!1,samplingRate:1}})(t),!v(Ue))return;((e,n)=>{Ne=h(e,Ue.path,n)})(e,n),function(e,n){n=n||{},pe(ie((function(){var t,r=Y("CLS",0),i=0,o=[],a=function(e){e.forEach((function(e){if(!e.hadRecentInput){var n=o[0],t=o[o.length-1];i&&e.startTime-t.startTime<1e3&&e.startTime-n.startTime<5e3?(i+=e.value,o.push(e)):(i=e.value,o=[e])}})),i>r.value&&(r.value=i,r.entries=o,t())},c=ee("layout-shift",a);c&&(t=ne(e,r,me,n.reportAllChanges),re((function(){a(c.takeRecords()),t(!0)})),G((function(){i=0,r=Y("CLS",0),t=ne(e,r,me,n.reportAllChanges),te((function(){return t()}))})),setTimeout(t,0))})))}(Ye),function(e,n){n=n||{},fe((function(){var t,r=le(),i=Y("FID"),o=function(e){e.startTime<r.firstHiddenTime&&(i.value=e.processingStart-e.startTime,i.entries.push(e),t(!0))},a=function(e){e.forEach(o)},c=ee("first-input",a);t=ne(e,i,qe,n.reportAllChanges),c&&(re(ie((function(){a(c.takeRecords()),c.disconnect()}))),G((function(){var r;i=Y("FID"),t=ne(e,i,qe,n.reportAllChanges),X=[],W=-1,J=null,Be(addEventListener),r=o,X.push(r),Pe()})))}))}(Ye),function(e,n){n=n||{},fe((function(){var t,r=le(),i=Y("LCP"),o=function(e){n.reportAllChanges||(e=e.slice(-1)),e.forEach((function(e){e.startTime<r.firstHiddenTime&&(i.value=Math.max(e.startTime-V(),0),i.entries=[e],t())}))},a=ee("largest-contentful-paint",o);if(a){t=ne(e,i,$e,n.reportAllChanges);var c=ie((function(){Oe[i.id]||(o(a.takeRecords()),a.disconnect(),Oe[i.id]=!0,t(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,(function(){return Ce(c)}),{once:!0,capture:!0})})),re(c),G((function(r){i=Y("LCP"),t=ne(e,i,$e,n.reportAllChanges),te((function(){i.value=performance.now()-r.timeStamp,Oe[i.id]=!0,t(!0)}))}))}}))}(Ye),pe(Ye),Me(Ye),je(Ye),window.addEventListener("click",(()=>{He=!0})),window.addEventListener("touchstart",(()=>{He=!0})),window.addEventListener("pagehide",(e=>{Ke||(e.persisted||(Je=!0,We=a()-De),Ve(),Ke=!0)})),window.addEventListener("visibilitychange",(()=>{"hidden"!==document.visibilityState||Ke||(Ve(),Ke=!0)})),window.addEventListener("load",(()=>{setTimeout((()=>{Ke||(Ve(),Ke=!0)}),1e4)}))}catch(e){console.error(e)}};return e.init=(e,n,t)=>{const{errors:r={},resources:i={},vitals:o={}}=t;window.document.documentMode||(j(e,n,r),U(e,n,i),en(e,n,o))},e.message=(e,n)=>{if(!x||!e)return;const t=(e=>{if("object"!=typeof e)return!1;switch({}.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}})(e)?L.computeStackTrace(e):{...L.computeStackTrace.ofCaller(),message:"string"==typeof e?e:JSON.stringify(e)};t.stack=t.stack?.slice(0,5)??[],I(t,!1,0,n)},e}({});
